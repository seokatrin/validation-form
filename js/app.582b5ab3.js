(function(e){function t(t){for(var l,o,u=t[0],a=t[1],c=t[2],s=0,m=[];s<u.length;s++)o=u[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],l=!0,u=1;u<n.length;u++){var a=n[u];0!==r[a]&&(l=!1)}l&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var l={},r={app:0},i=[];function o(t){if(l[t])return l[t].exports;var n=l[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=l,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)o.d(n,l,function(t){return e[t]}.bind(null,l));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/validation-form/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],a=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var d=a;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"39e5":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var l=n("7a23"),r={class:"client-wrapper"},i={class:"client-form"};function o(e,t,n,o,u,a){var c=Object(l["A"])("client-form");return Object(l["u"])(),Object(l["f"])("div",{class:"client",onClick:t[0]||(t[0]=function(){return a.checkWindow&&a.checkWindow.apply(a,arguments)})},[Object(l["g"])("div",r,[Object(l["g"])("h1",null,Object(l["B"])(u.title),1),Object(l["g"])("div",i,[Object(l["i"])(c,{windowsList:u.windowsList,handleWindow:a.handleWindow},null,8,["windowsList","handleWindow"])])])])}n("b0c0"),n("a15b");var u={class:"form-grid"},a=Object(l["g"])("p",{class:"form-category"},"Адрес:",-1),c={class:"form-grid"},d=Object(l["g"])("p",{class:"form-category"},"Документ:",-1),s={class:"form-grid"},m=Object(l["g"])("button",{class:"form-btn"},"Создать",-1),p=Object(l["h"])("Hовый клиент создан");function v(e,t,n,r,i,o){var v=Object(l["A"])("form-input"),h=Object(l["A"])("form-select"),f=Object(l["A"])("form-input-radio"),b=Object(l["A"])("form-input-checkbox"),O=Object(l["A"])("show-message");return Object(l["u"])(),Object(l["f"])(l["a"],null,[Object(l["g"])("form",{onSubmit:t[19]||(t[19]=Object(l["J"])((function(){return o.createClient&&o.createClient.apply(o,arguments)}),["prevent"])),class:"form"},[Object(l["g"])("div",u,[Object(l["i"])(v,{modelValue:e.client.lastname.value,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.client.lastname.value=t}),title:e.client.lastname.title,errorMessage:e.v$.client.lastname.$error&&o.lastnameError},null,8,["modelValue","title","errorMessage"]),Object(l["i"])(v,{modelValue:e.client.name.value,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.client.name.value=t}),title:e.client.name.title,errorMessage:e.v$.client.name.$error&&o.nameError},null,8,["modelValue","title","errorMessage"]),Object(l["i"])(v,{modelValue:e.client.surname.value,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.client.surname.value=t}),title:e.client.surname.title,errorMessage:e.v$.client.surname.$error&&"Должны быть только буквы"},null,8,["modelValue","title","errorMessage"]),Object(l["i"])(v,{modelValue:e.client.birthday.value,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.client.birthday.value=t}),typeInput:"date",title:e.client.birthday.title,errorMessage:e.v$.client.birthday.$error&&"Заполните поле"},null,8,["modelValue","title","errorMessage"]),Object(l["i"])(v,{modelValue:e.client.phoneNumber.value,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.client.phoneNumber.value=t}),title:e.client.phoneNumber.title,errorMessage:e.v$.client.phoneNumber.$error&&o.phoneError,placeholder:"7"},null,8,["modelValue","title","errorMessage"]),Object(l["i"])(h,{modelValue:e.client.clientsGroup.value.join(", "),title:e.client.clientsGroup.title,itemList:e.clientsGroupList,windowType:n.windowsList.clientGroupWindow,multiple:"yes",onHandleWindow:n.handleWindow,onHandeleMultiple:o.handeleMultiple,hasError:e.client.clientsGroup.hasError},null,8,["modelValue","title","itemList","windowType","onHandleWindow","onHandeleMultiple","hasError"]),Object(l["i"])(h,{modelValue:e.client.doctor.value,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.client.doctor.value=t}),title:e.client.doctor.title,itemList:e.doctorsList,windowType:n.windowsList.doctorsWindow,onHandleWindow:n.handleWindow},null,8,["modelValue","title","itemList","windowType","onHandleWindow"]),Object(l["i"])(f,{modelValue:e.client.gender.value,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.client.gender.value=t}),itemsList:e.genderValues,title:e.client.gender.title},null,8,["modelValue","itemsList","title"]),Object(l["i"])(b,{modelValue:e.client.sendMsg.value,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.client.sendMsg.value=t}),title:e.client.sendMsg.title},null,8,["modelValue","title"])]),a,Object(l["g"])("div",c,[Object(l["i"])(v,{modelValue:e.address.index.value,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.address.index.value=t}),title:e.address.index.title,errorMessage:e.v$.address.index.$error&&"Должны быть только цифры"},null,8,["modelValue","title","errorMessage"]),Object(l["i"])(v,{modelValue:e.address.country.value,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.address.country.value=t}),title:e.address.country.title,errorMessage:e.v$.address.country.$error&&"Должны быть только буквы"},null,8,["modelValue","title","errorMessage"]),Object(l["i"])(v,{modelValue:e.address.region.value,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.address.region.value=t}),title:e.address.region.title,errorMessage:e.v$.address.region.$error&&"Должны быть только буквы"},null,8,["modelValue","title","errorMessage"]),Object(l["i"])(v,{modelValue:e.address.city.value,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.address.city.value=t}),title:e.address.city.title,errorMessage:e.v$.address.city.$error&&"Заполните поле"},null,8,["modelValue","title","errorMessage"]),Object(l["i"])(v,{modelValue:e.address.street.value,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.address.street.value=t}),title:e.address.street.title},null,8,["modelValue","title"]),Object(l["i"])(v,{modelValue:e.address.home.value,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.address.home.value=t}),title:e.address.home.title},null,8,["modelValue","title"])]),d,Object(l["g"])("div",s,[Object(l["i"])(h,{modelValue:e.clientDocument.documentType.value,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.clientDocument.documentType.value=t}),title:e.clientDocument.documentType.title,itemList:e.documentType,windowType:n.windowsList.documentTypeWindow,onHandleWindow:n.handleWindow,hasError:e.clientDocument.documentType.hasError},null,8,["modelValue","title","itemList","windowType","onHandleWindow","hasError"]),Object(l["i"])(v,{modelValue:e.clientDocument.documentSeria.value,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.clientDocument.documentSeria.value=t}),title:e.clientDocument.documentSeria.title},null,8,["modelValue","title"]),Object(l["i"])(v,{modelValue:e.clientDocument.documentNumber.value,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.clientDocument.documentNumber.value=t}),title:e.clientDocument.documentNumber.title},null,8,["modelValue","title"]),Object(l["i"])(v,{modelValue:e.clientDocument.documentInfo.value,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.clientDocument.documentInfo.value=t}),title:e.clientDocument.documentInfo.title},null,8,["modelValue","title"]),Object(l["i"])(v,{modelValue:e.clientDocument.documentDate.value,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.clientDocument.documentDate.value=t}),title:e.clientDocument.documentDate.title,typeInput:"date",errorMessage:e.v$.clientDocument.documentDate.$error&&"Заполните поле"},null,8,["modelValue","title","errorMessage"])]),m],32),e.isCreated?(Object(l["u"])(),Object(l["d"])(O,{key:0},{default:Object(l["H"])((function(){return[p]})),_:1})):Object(l["e"])("",!0)],64)}n("caad"),n("2532"),n("4de4"),n("d3b7"),n("ac1f"),n("1276"),n("5319");var h={class:"form-label"},f=["type","value","min","max","placeholder"],b={key:0,class:"form-message"};function O(e,t,n,r,i,o){return Object(l["u"])(),Object(l["f"])("p",null,[Object(l["g"])("label",h,[Object(l["h"])(Object(l["B"])(n.title)+" ",1),Object(l["g"])("input",{type:n.typeInput?n.typeInput:"text",value:n.modelValue,onInput:t[0]||(t[0]=function(){return o.updateInput&&o.updateInput.apply(o,arguments)}),class:Object(l["r"])(["form-input",{error:n.errorMessage}]),min:n.typeInput&&"1930-01-01",max:n.typeInput&&(new Date).toISOString().replace(/T.*/,"").split("-").join("-"),placeholder:n.placeholder},null,42,f)]),n.errorMessage?(Object(l["u"])(),Object(l["f"])("span",b,Object(l["B"])(n.errorMessage),1)):Object(l["e"])("",!0)])}n("a9e3");var j={name:"form-input",props:{modelValue:[String,Boolean],title:{type:String},typeInput:{type:String,required:!1},errorMessage:[String,Boolean],placeholder:{type:String,Number:Number}},methods:{updateInput:function(e){this.$emit("update:modelValue",e.target.value)}}},g=n("6b0d"),y=n.n(g);const w=y()(j,[["render",O]]);var V=w,$={class:"form-select"},M={class:"form-select-title"};function T(e,t,n,r,i,o){var u=Object(l["A"])("font-awesome-icon");return Object(l["u"])(),Object(l["f"])("div",$,[Object(l["g"])("div",M,Object(l["B"])(n.title),1),Object(l["g"])("div",{class:Object(l["r"])(["form-choose",{"form-select-error":n.hasError&&!n.modelValue}]),onClick:t[0]||(t[0]=function(e){return o.toggleField(n.windowType.title,!n.windowType.value)})},[Object(l["g"])("p",null,Object(l["B"])(n.modelValue?n.modelValue:"выберите"),1),Object(l["i"])(u,{class:Object(l["r"])(["icon",{open:n.windowType.value}]),icon:["fas","angle-down"]},null,8,["class"])],2),Object(l["I"])(Object(l["g"])("ul",null,[(Object(l["u"])(!0),Object(l["f"])(l["a"],null,Object(l["y"])(n.itemList,(function(e){return Object(l["u"])(),Object(l["f"])("li",{key:e,onClick:t[1]||(t[1]=function(){return o.changeOption&&o.changeOption.apply(o,arguments)})},Object(l["B"])(e),1)})),128))],512),[[l["F"],n.windowType.value]])])}var D={name:"form-select",props:{itemList:{type:Array},modelValue:{type:String},title:{type:String},multiple:{type:String,required:!1},windowType:{type:Object},hasError:{type:Boolean}},methods:{changeOption:function(e){this.multiple?this.$emit("handeleMultiple",e.target.innerText):(this.$emit("update:modelValue",e.target.innerText),this.$emit("handleWindow",this.windowType.title,!1))},toggleField:function(){this.$emit("handleWindow",this.windowType.title,!this.windowType.value)}}};const W=y()(D,[["render",T]]);var L=W,I=["value"];function S(e,t,n,r,i,o){return Object(l["u"])(),Object(l["f"])("p",null,[Object(l["h"])(Object(l["B"])(n.title)+" ",1),(Object(l["u"])(!0),Object(l["f"])(l["a"],null,Object(l["y"])(n.itemsList,(function(e){return Object(l["u"])(),Object(l["f"])("label",{class:"form-types",key:e},[Object(l["h"])(Object(l["B"])(e)+" ",1),Object(l["I"])(Object(l["g"])("input",{type:"radio","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.modelValue=e}),value:e,onChange:t[1]||(t[1]=function(){return o.updateInput&&o.updateInput.apply(o,arguments)})},null,40,I),[[l["E"],n.modelValue]])])})),128))])}var E={name:"form-input-radio",props:{modelValue:{type:String},title:{type:String},itemsList:{type:Array}},methods:{updateInput:function(e){this.$emit("update:modelValue",e.target.value)}}};const k=y()(E,[["render",S]]);var x=k,U={class:""},C={class:"form-types"};function A(e,t,n,r,i,o){return Object(l["u"])(),Object(l["f"])("div",U,[Object(l["g"])("label",C,[Object(l["h"])(Object(l["B"])(n.title)+" ",1),Object(l["I"])(Object(l["g"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return n.modelValue=e})},null,512),[[l["D"],n.modelValue]])])])}var G={name:"form-input-checkbox",props:{modelValue:[String],title:{type:String}},methods:{updateInput:function(e){this.$emit("update:modelValue",e.target.value)}}};const N=y()(G,[["render",A]]);var q=N,B={class:"modal"};function F(e,t,n,r,i,o){return Object(l["u"])(),Object(l["f"])("div",B,[Object(l["g"])("p",null,[Object(l["z"])(e.$slots,"default")])])}var H={name:"show-message"};const P=y()(H,[["render",F]]);var _=P,J=n("25a0");n("25f0");function z(e){return"7"===e.toString()[0]}var R=n("b85c");n("498a");function K(e){if(""===e)return!0;var t,n=Object(R["a"])(e.trim());try{for(n.s();!(t=n.n()).done;){var l=t.value;if(!(l.charCodeAt()>=1040&&l.charCodeAt()<=1103||1025===l.charCodeAt()))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}var Q=n("e3e1"),X={components:{FormInput:V,FormSelect:L,FormInputRadio:x,FormInputCheckbox:q,ShowMessage:_},name:"client-form",props:{handleWindow:{type:Function},windowsList:{type:Object}},data:function(){return{v$:Object(J["a"])(),doctorsList:["Иванов","Захаров","Чернышева"],clientsGroupList:["VIP","Проблемные","ОМС"],genderValues:["женский","мужской"],documentType:["Паспорт","Свидетельство о рождении","Вод. удостоверение"],isCreated:!1,client:{lastname:{title:"Фамилия*",value:""},name:{title:"Имя*",value:""},surname:{title:"Отчество",value:""},birthday:{title:"Дата рождения*",value:""},phoneNumber:{title:"Номер телефона*",value:""},gender:{title:"Пол:",value:""},clientsGroup:{title:"Группа клиентов*",value:[],hasError:!1},doctor:{title:"Лечащий врач",value:""},sendMsg:{title:"Не отправлять СМС",value:""}},address:{index:{title:"Индекс",value:""},country:{title:"Страна",value:""},region:{title:"Область",value:""},city:{title:"Город*",value:""},street:{title:"Улица",value:""},home:{title:"Дом",value:""}},clientDocument:{documentType:{title:"Тип документа*",value:"",hasError:!1},documentSeria:{title:"Серия",value:""},documentNumber:{title:"Номер",value:""},documentInfo:{title:"Кем выдан",value:""},documentDate:{title:"Дата выдачи*",value:""}}}},methods:{createClient:function(){var e=this;this.v$.$validate();for(var t=!1,n=0,l=[this.clientDocument.documentType,this.client.clientsGroup];n<l.length;n++){var r=l[n];0===r.value.length&&(r.hasError=!0,t=!0)}if(!this.v$.$error&&!t){var i=[];for(var o in this.client)i.push(this.client[o]),"Группа клиентов*"===this.client[o].title?this.client[o].value=[]:this.client[o].value="";for(var u in this.address)i.push(this.address[u]),this.address[u].value="";for(var a in this.clientDocument)i.push(this.clientDocument[a]),this.clientDocument[a].value="";console.log(i),this.isCreated=!0,this.v$.$reset(),t=!1,setTimeout((function(){return e.isCreated=!1}),4e3)}},handWindow:function(e,t){this.$emit("handleWindow",e,t)},handeleMultiple:function(e){this.client.clientsGroup.value.includes(e)?this.client.clientsGroup.value=this.client.clientsGroup.value.filter((function(t){return t!==e})):this.client.clientsGroup.value.push(e)},errorMessagesForClients:function(e){if(this.v$.client[e].$error){var t=this.v$.client[e].$silentErrors[0].$validator;return"required"===t?"Заполните поле":"Должны быть только буквы"}}},computed:{phoneError:function(){if(this.v$.client.phoneNumber.$error){var e=this.v$.client.phoneNumber.$silentErrors[0].$validator;return"required"===e?"Заполните поле":"numeric"===e?"Должны быть только цифры":"startWith7"===e?"Номер должен начинаться с цифры 7":"Должно быть 11 цифр"}},lastnameError:function(){return this.errorMessagesForClients("lastname")},nameError:function(){return this.errorMessagesForClients("name")},clientsGroupError:function(){this.client.clientsGroup.value.length>0&&(this.client.clientsGroup.hasError=!1)},documentTypeError:function(){this.clientDocument.documentType.value&&(this.clientDocument.documentType.hasError=!1)}},validations:function(){return{client:{lastname:{value:{required:Q["d"],checkAlpha:K}},name:{value:{required:Q["d"],checkAlpha:K}},surname:{value:{checkAlpha:K}},birthday:{value:{required:Q["d"]}},phoneNumber:{value:{required:Q["d"],numeric:Q["c"],startWith7:z,minLength:Object(Q["b"])(11),maxLength:Object(Q["a"])(11)}},clientsGroup:{value:{required:Q["d"]}}},address:{index:{value:{numeric:Q["c"]}},country:{value:{checkAlpha:K}},region:{value:{checkAlpha:K}},city:{value:{required:Q["d"]}}},clientDocument:{documentType:{value:{required:Q["d"]}},documentDate:{value:{required:Q["d"]}}}}}};const Y=y()(X,[["render",v]]);var Z=Y,ee={name:"App",components:{ClientForm:Z},data:function(){return{title:"Новый клиент",windowsList:{doctorsWindow:{title:"doctorsWindow",value:!1},clientGroupWindow:{title:"clientGroupWindow",value:!1},documentTypeWindow:{title:"documentTypeWindow",value:!1}}}},methods:{handleWindow:function(e,t){for(var n in this.windowsList)this.windowsList[n].value=!1;this.windowsList[e].value=t},checkWindow:function(e){if(!e.target.closest(".form-select"))for(var t in this.windowsList)this.windowsList[t].value=!1}}};n("85a2");const te=y()(ee,[["render",o]]);var ne=te,le=n("ecee"),re=n("c074"),ie=n("ad3d");le["c"].add(re["a"]),Object(l["c"])(ne).component("font-awesome-icon",ie["a"]).mount("#app")},"85a2":function(e,t,n){"use strict";n("39e5")}});
//# sourceMappingURL=app.582b5ab3.js.map